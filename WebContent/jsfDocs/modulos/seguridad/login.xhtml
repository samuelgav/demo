<?xml version='1.0' encoding='UTF-8' ?>
<!DOCTYPE html>

<html xmlns="http://www.w3.org/1999/xhtml"
	xmlns:ui="http://java.sun.com/jsf/facelets"
	xmlns:h="http://java.sun.com/jsf/html"
	xmlns:f="http://java.sun.com/jsf/core"
	xmlns:p="http://primefaces.org/ui" xmlns:b="http://bootsfaces.net/ui">

<h:head>
	<meta content='text/html; charset=UTF-8' http-equiv="Content-Type" />
	<meta content="#{session.maxInactiveInterval};url=#{request.contextPath}/login" http-equiv="refresh" />
	<title>#{sys['nombre']}</title>

	<link rel="stylesheet" href="#{request.contextPath}/resources/css/login.css" />
	<link rel="shortcut icon" href="#{request.contextPath}/resources/images/principal/favicon.png" type="image/x-icon" />
</h:head>

<h:body>

	<script>
		$.blockUI.defaults.message = '<h3>Espere por favor...</h3><br /><img src="resources/images/Ajaxloading.gif" />';
	</script>

	<div style="display: none;">#{loginBean.cargarMetodos()}</div>

	<h:form id="formLogin">

		<b:container styleClass="contenedorLogin">

			<b:panelGrid colSpans="12" small-screen="8" tiny-screen="12"
				large-screen="8" offset-sm="2" offset-lg="2">
				<b:image name="images/principal/logincabecera.png" small-screen="12"
					tiny-screen="12" large-screen="12" style="padding: 0;margin: 0;" />
			</b:panelGrid>

			<b:panelGrid colSpans="12" tiny-screen="12" large-screen="8"
				small-screen="8" offset-sm="2" offset-lg="2">
				<b:panel title="#{sys['nombre']}" collapsible="false" look="primary"
					styleClass="panelmedio">

					<b:row>
						<b:column small-screen="2" large-screen="2" offset-sm="2"
							offset-lg="2">
							<h:outputText value="Usuario" />
						</b:column>
						<b:column small-screen="6" large-screen="6">
							<b:inputText placeholder="Usuario" id="idUsuario"
								value="#{loginBean.usuario.v_usuario}" autocomplete="false"
								required="true" requiredMessage="Ingrese usuario">
								<f:facet name="prepend">
									<b:icon name="user" />
								</f:facet>
							</b:inputText>
							<b:focus target="@previous" />
						</b:column>
					</b:row>

					<b:row>
						<b:column small-screen="2" large-screen="2" offset-sm="2"
							offset-lg="2">
							<h:outputText value="Contraseña" />
						</b:column>
						<b:column small-screen="6" large-screen="6">
							<b:inputSecret placeholder="Contraseña" id="idPassword"
								value="#{loginBean.usuario.v_contrasena}" autocomplete="false"
								required="true" process="@this"
								requiredMessage="Ingrese contraseña">
								<f:facet name="prepend">
									<b:iconAwesome name="key" />
								</f:facet>
							</b:inputSecret>
						</b:column>
					</b:row>

					<b:row>
						<b:column>
							<b:messages id="msgLogin" colXs="12" colMd="8" offset="2" />
						</b:column>
					</b:row>

					<b:row>
						<b:column>
							<b:commandButton id="btnIngresar" value="Ingresar"
								process=":formLogin" action="#{loginBean.login}"
								update=":formLogin:idUsuario,:formLogin:idPassword,:formLogin:msgLogin"
								ajax="true" look="danger" colSm="4" colXs="12" colLg="4"
								offset="5" offsetSm="5" style="background-color: #c9302c;" />
						</b:column>
					</b:row>

				</b:panel>
			</b:panelGrid>

		</b:container>

	</h:form>

</h:body>
</html>