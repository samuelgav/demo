<?xml version='1.0' encoding='UTF-8' ?>
<!DOCTYPE html>

<html xmlns="http://www.w3.org/1999/xhtml"
	xmlns:ui="http://java.sun.com/jsf/facelets"
	xmlns:h="http://java.sun.com/jsf/html"
	xmlns:f="http://java.sun.com/jsf/core"
	xmlns:p="http://primefaces.org/ui" xmlns:b="http://bootsfaces.net/ui">

<ui:composition template="/WEB-INF/plantillas/plantilla.xhtml">
	<ui:define name="contenido">
	  <b:form id="formNotificacion">  	
		<b:panel title="BUSQUEDA DE CÉDULAS DE NOTIFICACIONES"      					
    					 collapsible="false"
    					 look="primary"
    					 styleClass="panelmedio"
    					 >	
    				
    				 <b:row >
				    	<b:column 	mediumScreen="10"
				    				largeScreen="10"
				    				offset-lg="1"
				    				offset-md="1">
				    		<b:panel 	look="primary"
				    					id="panelFiltro"
				    					collapsible="false">
					    			<b:row style="margin-left:2px;margin-bottom: 15px" id="filaCriterios">						
										<b:column 	span="2"
													offset-lg="1"
				    							  	offset-md="1">
											<h:outputLabel value="N° de Cédula de Notificación" />
										</b:column>
										<b:column span="2">
											<b:inputText 	value="#{descargoBean.cedula.v_numced}"
															required="true"
															requiredMessage="Estimado usuario, debe ingresar el número cédula."
															id="v_numced"
															maxlength="10">
													<p:keyFilter regEx="/[\d]/" />		
											</b:inputText>				
										</b:column>	
										<b:column span="2">
											<h:outputLabel value="Año" />
										</b:column>
										<b:column span="2">
											<b:selectOneMenu 	value="#{descargoBean.cedula.v_anionot}"
																required="true"
																requiredMessage="Estimado usuario, debe seleccionar el año."
																id="v_anionot">
												<f:selectItem 	itemLabel="Seleccione"
																itemValue=""/>
												
												<f:selectItems value="#{descargoBean.listaAnios}"/>																								
																							
											</b:selectOneMenu>
										</b:column>						
									</b:row>																													    	
				    		</b:panel>
				    	</b:column>
				    </b:row>	 
    				
    				 <b:row >
		    	<b:column 	mediumScreen="3"
		    				largeScreen="3"
		    				tinyScreen="12"
		    				offset-lg="3"
		    				offset-md="3">	
		    		<b:commandButton 	look="danger"
		    							value="Buscar"		    							
		    							tinyScreen="12"
		    							mediumScreen="6"
		    							largeScreen="6"
		    							icon-awesome="fa-search"
		    							actionListener="#{descargoBean.buscar}"
		    							update="rowDatosCedula,rowSeparador, rowBtnEnviar, filaCriterios, msgmensaje"
		    							offset-lg="3"
				    					offset-md="3"
				    					process="@form:v_anionot, @form:v_numced"/>
		    	</b:column>	
		    	 <b:column  mediumScreen="3"
		    				largeScreen="3"
		    				tinyScreen="12">
		    			<b:commandButton 	look="danger"
		    							value="Limpiar"	    							    							
		    							tinyScreen="12"
		    							mediumScreen="6"
		    							largeScreen="6"
		    							icon-awesome="fa-eraser"
		    							action="#{descargoBean.limpiar}"
		    							update="rowDatosCedula,rowSeparador, rowBtnEnviar, filaCriterios, msgmensaje, msgmensajeCedula"
		    							offset-lg="3"
				    					offset-md="3"
				    					immediate="true"
				    					process="@this"/>
		    	 </b:column>			 		
		    	
		    
		    		    	
		    </b:row>
		    <b:row>
		    	<b:column>
		    		<b:messages id="msgmensaje"/>
		    	</b:column>
		    </b:row>
    		
    		 <b:row id="rowSeparador">
				    	<b:column 	mediumScreen="10"
				    				largeScreen="10"
				    				offset-lg="1"
				    				offset-md="1"
				    				rendered="#{descargoBean.motrarPanelCedula}">
				    				<p:separator/>	
				    	</b:column>
			</b:row>	    							
    					 
			<b:row id="rowDatosCedula">
						<b:column 	mediumScreen="10"
		    						largeScreen="10"
		    						offset-lg="1"
		    						offset-md="1">
							
							<b:panel 	look="primary"
										collapsible="false"
										title="Datos de Cédula"
										rendered="#{descargoBean.motrarPanelCedula}">
									<b:row>
										<b:column span="2">
											<p:outputLabel value="N° de Cédula" />
										</b:column>
										<b:column span="2">
											<h:outputLabel value="#{descargoBean.cedula.v_numced}" />
										</b:column>
										
										<b:column span="1">
											<p:outputLabel value="Año" />
										</b:column>
										<b:column span="1">
											<h:outputLabel value="#{descargoBean.cedula.v_anionot}" />
										</b:column>
									</b:row>	
									
									<b:row>
										<b:column span="2">
											<p:outputLabel value="RUC" />
										</b:column>
										<b:column span="3">
											<h:outputLabel value="#{descargoBean.cedula.numeroDocumentoIdent}" />
										</b:column>										
									</b:row>
									
									<b:row>
										<b:column span="2">
											<p:outputLabel value="Razón Social" />
										</b:column>
										<b:column span="3">
											<h:outputLabel value="#{descargoBean.cedula.nombreRemitente}" />
										</b:column>										
									</b:row>
									
									<b:row rendered="#{descargoBean.cedula.fechaNotificacion==null}">
										<b:column span="2">
											<p:outputLabel value="Fecha de Notificación" />
										</b:column>
										<b:column span="2">
											<b:dateTimePicker 							
															format="DD/MM/YYYY" 
															value="#{descargoBean.cedula.fechaNotificacion}"
															required="true"
															requiredMessage="Estimado usuario, por favor ingrese la fecha de notificación."/>
										</b:column>
										<b:column span="1">
											<p:outputLabel value="Hora:" />
										</b:column>
										<b:column span="1">
											<b:inputText 	mask="99:99" 
															value="#{descargoBean.cedula.horaCompleta}"
															required="true"
															requiredMessage="Estimado usuario, por favor ingrese la hora de notificación."/>
										</b:column>	
										<b:column span="1">
											<p:outputLabel 	
															value="Formato 24 horas"
															/>	
										</b:column>										
									</b:row>	
									
									<b:row rendered="#{descargoBean.cedula.fechaNotificacion!=null}">
										<b:column span="2">
											<p:outputLabel value="Fecha de Notificación" />
										</b:column>
										<b:column span="2">
											<b:dateTimePicker 							
															format="DD/MM/YYYY" 
															value="#{descargoBean.cedula.fechaNotificacion}"
															disabled="true"/>
										</b:column>
										<b:column span="1">
											<p:outputLabel value="Hora:" />
										</b:column>
										<b:column span="1">
											<p:outputLabel 	
															value="#{descargoBean.cedula.horaCompleta}"
															/>
															
										</b:column>	
										<b:column span="1">
											<p:outputLabel 	
															value="Formato 24 horas"
															/>	
										</b:column>														
									</b:row>							
											
									
							</b:panel>
						</b:column>			
					</b:row> 
					<b:row>
				    	<b:column>
				    		<b:messages id="msgmensajeCedula"/>
				    	</b:column>
		    		</b:row>
					<b:row id="rowBtnEnviar">
						<b:column 	mediumScreen="10"
		    						largeScreen="10"
		    						offset-lg="2"
		    						offset-md="1"
		    						rendered="#{descargoBean.motrarPanelCedula}">
							<b:commandButton 	look="danger"
												value="Enivar"												
												mediumScreen="3"
					    						largeScreen="2"
					    						tinyScreen="12"
					    						offset-lg="4"
					    						offset-md="4"
					    						actionListener="#{descargoBean.enviar}"
					    						update="formNotificacion:rowDatosCedula, rowSeparador, rowBtnEnviar, msgmensajeCedula, filaCriterios"
					    						icon-awesome="fa-send"
					    						rendered="#{descargoBean.cedula.fechaNotificacion==null}"/>
						</b:column>
					</b:row>					
			</b:panel>
		</b:form>	
	</ui:define>
</ui:composition>
</html>